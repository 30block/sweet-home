version: '2.1'
services:
  home:
    image: pipex/sweet-home
    privileged: true
    network_mode: host
    command: sleep infinity
    environment:
      # This is to prevent the Balena supervisor from overriding this value to
      # ensure the right one is used. Do not change this as
      # it has no effect on the runtime username
      USER: 'me'
      # Setting the TZ env var allows for the local date
      # to be shown in tmux and as result of the `date` command
      TZ: 'America/Santiago'
    volumes:
      - home:/home/me
      - pkgs:/nix

volumes:
  home:
  pkgs:
